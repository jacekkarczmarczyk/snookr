<!doctype html>
<title>Snookr</title>
<meta charset="utf-8"/>
<link rel="stylesheet" type="text/css" href="snookr.css" />
<div style="display: none">
    <audio data-type="applause1" src="audio/applause1.mp3"></audio>
    <audio data-type="applause2" src="audio/applause2.mp3"></audio>
    <audio data-type="disappointment" src="audio/disappointment.mp3"></audio>
    <audio data-type="ball" src="audio/ball.mp3"></audio>
</div>

<script src="vendor/vue@2.2.6.js"></script>
<script src="vendor/vue-bus.js"></script>

<script src="classes/Point.js"></script>
<script src="classes/LineSegment.js"></script>
<script src="classes/LineArc.js"></script>
<script src="classes/Vector.js"></script>
<script src="classes/AudioClip.js"></script>
<script src="classes/SnookrAudioPlayer.js"></script>
<script src="classes/SnookrShotData.js"></script>
<script src="classes/SnookrTimeFrameData.js"></script>
<script src="classes/SnookrTable.js"></script>
<script src="classes/SnookrTableArcade.js"></script>
<script src="classes/SnookrTableFunky.js"></script>
<script src="classes/SnookrTableRegular.js"></script>
<script src="classes/SnookrTableReal.js"></script>
<script src="classes/SnookrBall.js"></script>
<script src="classes/SnookrBallSet.js"></script>
<script src="classes/SnookrPhysics.js"></script>
<script src="classes/SnookrGameStateManager.js"></script>
<script src="classes/SnookrGame.js"></script>
<script src="classes/SnookrGameArcade.js"></script>
<script src="classes/SnookrGameFunky.js"></script>
<script src="classes/SnookrGameRegular.js"></script>
<script src="classes/SnookrGameReal.js"></script>
<script src="classes/SnookrGameBlack.js"></script>
<script src="classes/SnookrEvent.js"></script>
<script src="classes/SnookrEventListener.js"></script>
<script src="classes/SpinPower.js"></script>
<script src="classes/SnookrRule.js"></script>
<script src="classes/SnookrRuleExpectingAnyColor.js"></script>
<script src="classes/SnookrRuleExpectingColor.js"></script>
<script src="classes/SnookrRuleExpectingRed.js"></script>
<script src="classes/SnookrRuleFreeBall.js"></script>
<script src="classes/SnookrRuleFrameOver.js"></script>
<script src="classes/SnookrHistory.js"></script>
<script src="classes/SnookrHistoryEntry.js"></script>
<script src="classes/SnookrRenderer.js"></script>
<script src="classes/SnookrTableController.js"></script>
<script src="classes/SnookrController.js"></script>
<script src="classes/ResourceLoader.js"></script>
<script src="classes/ResourceNameResolver.js"></script>
<script src="classes/SnookrResourceNameResolver.js"></script>

<script src="vue/SnookrUiApp.js"></script>
<script src="vue/SnookrUiBoard.js"></script>
<script src="vue/SnookrUiPlayerPanel.js"></script>
<script src="vue/SnookrUiSpinnerBall.js"></script>
<script src="vue/SnookrUiTable.js"></script>

<!--<div style="display: flex; width: 100%; height: 100%;" unselectable="on" v-on:selectstart="() => false" v-on:dragstart="() => false">-->
    <!--<div id="app1" class="app">-->
        <!--<snookr-ui-app v-bind:game-state="gameState" v-bind:game-id="gameId"></snookr-ui-app>-->
    <!--</div>-->
    <!--<div id="app2" class="app">-->
        <!--<snookr-ui-app v-bind:game-state="gameState" v-bind:game-id="gameId"></snookr-ui-app>-->
    <!--</div>-->
<!--</div>-->

<div id="app1" class="app">
    <snookr-ui-app v-bind:game-state="gameState" v-bind:game-id="gameId"></snookr-ui-app>
</div>

<script type="text/javascript">
    window.addEventListener('load', function () {
        const resourceLoader = new ResourceLoader(new SnookrResourceNameResolver());

        resourceLoader.loadResources(['table-canvas', 'cue', 'funky-table', 'ball-white', 'ball-black', 'ball-pink', 'ball-blue', 'ball-brown', 'ball-green', 'ball-yellow', 'ball-red']).then(function () {
            const controller1 = new SnookrController(['Player 1', 'Player 2'], resourceLoader);
            const app1 = new Vue({
                el: '#app1',
                data: {
                    gameId: controller1.getGameId(),
                    gameState: controller1.getGameState()
                }
            });

//            const controller2 = new SnookrController(['Player 1', 'Player 2'], resources);
//            const app2 = new Vue({
//                el: '#app2',
//                data: {
//                    gameId: controller2.getGameId(),
//                    gameState: controller2.getGameState()
//                }
//            });
//            controller2.run();
        });
    });
</script>
